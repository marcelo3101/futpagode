{"ast":null,"code":"var _jsxFileName = \"/home/marcelo/trabalho-bd-front/src/Components/ver_jogos.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport api from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SeeGames = () => {\n  _s();\n\n  const [jogos, setJogos] = useState(null);\n\n  const getJogos = () => {\n    api.get(`/jogos`).then(res => {\n      const userCPF = localStorage.getItem(\"cpf\");\n      const nJogos = res.data.map(jogo => {\n        let participa = false;\n\n        for (const j in jogo.participacao_em_jogo) {\n          participa = participa || j === userCPF;\n        }\n\n        return { ...jogo,\n          participa: participa\n        };\n      });\n      setJogos(res.data);\n    });\n  };\n\n  useEffect(() => {\n    getJogos();\n  }, []);\n\n  function handleSubscribe(jogoId) {\n    const data = {\n      Jogador_CPF: localStorage.getItem(\"cpf\"),\n      Jogo_id: jogoId\n    };\n    api.post(\"/jogos/enter\", data).then(() => {\n      alert(\"inscrito\");\n      setJogos(jogos.map(jogo => {\n        if (jogoId === jogo.id) {\n          let nJogo = jogo;\n          jogo.participa = true;\n          return nJogo;\n        } else return jogo;\n      }));\n    }).catch(err => alert(err));\n  }\n\n  function handleQuit(jogoId) {\n    const data = {\n      Jogador_CPF: localStorage.getItem(\"cpf\"),\n      Jogo_id: jogoId\n    };\n    api.post(\"/jogos/quit/\" + localStorage.getItem(\"cpf\") + \"/\" + jogoId, data).then(() => {\n      setJogos(jogos.map(jogo => {\n        if (jogoId === jogo.id) {\n          let nJogo = jogo;\n          jogo.participa = false;\n          return nJogo;\n        } else return jogo;\n      }));\n      alert(\"desinscrito\");\n    }).catch(err => alert(err));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"bg-white font-family-karla h-screen flex justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"flex flex-col justify-center md:justify-start my-auto pt-8 md:pt-0 px-8 md:px-24 lg:px-32\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"flex flex-col\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"overflow-x-auto sm:-mx-6 lg:-mx-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"py-2 inline-block min-w-full sm:px-6 lg:px-8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"overflow-hidden\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                class: \"min-w-full\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  class: \"border-b\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      class: \"text-sm font-medium text-gray-900 px-6 py-4 text-left\",\n                      children: \"#\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 84,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      class: \"text-sm font-medium text-gray-900 px-6 py-4 text-left\",\n                      children: \"Campo\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 87,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      class: \"text-sm font-medium text-gray-900 px-6 py-4 text-left\",\n                      children: \"In\\xEDcio\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      class: \"text-sm font-medium text-gray-900 px-6 py-4 text-left\",\n                      children: \"Fim\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 93,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: jogos && jogos.map(jogo => {\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      class: \"border-b\",\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        class: \"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",\n                        children: jogo.id\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 102,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        class: \"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap\",\n                        children: jogo.campo\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 105,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        class: \"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap\",\n                        children: jogo.data_hora_inicio\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 108,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        class: \"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap\",\n                        children: jogo.data_hora_termino\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 111,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        class: \"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap\",\n                        children: jogos.participa ? /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleSubscribe(jogo.id),\n                          class: \"bg-black text-white font-bold text-lg hover:bg-gray-700 p-2\",\n                          children: \"sair\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 116,\n                          columnNumber: 45\n                        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleQuit(jogo.id),\n                          class: \"bg-black text-white font-bold text-lg hover:bg-gray-700 p-2\",\n                          children: \"Inscrever-se\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 120,\n                          columnNumber: 45\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 37\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 101,\n                      columnNumber: 37\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SeeGames, \"nMeIP74nBAithecOpqGk2PsS8/U=\");\n\n_c = SeeGames;\nexport default SeeGames;\n\nvar _c;\n\n$RefreshReg$(_c, \"SeeGames\");","map":{"version":3,"sources":["/home/marcelo/trabalho-bd-front/src/Components/ver_jogos.js"],"names":["React","useEffect","useState","api","SeeGames","jogos","setJogos","getJogos","get","then","res","userCPF","localStorage","getItem","nJogos","data","map","jogo","participa","j","participacao_em_jogo","handleSubscribe","jogoId","Jogador_CPF","Jogo_id","post","alert","id","nJogo","catch","err","handleQuit","campo","data_hora_inicio","data_hora_termino"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport api from \"../api\";\n\nconst SeeGames = () => {\n    const [jogos, setJogos] = useState(null);\n    \n    const getJogos = () => {\n        api.get(\n            `/jogos`\n        ).then((res) => {\n            const userCPF = localStorage.getItem(\"cpf\")\n            const nJogos = res.data.map((jogo) => {\n                let participa = false\n                for(const j in jogo.participacao_em_jogo){\n                    participa = participa || (j === userCPF)\n                }\n                return {\n                    ...jogo, \n                    participa: participa \n                }\n            })\n            setJogos(res.data);\n        });\n    }\n    \n    useEffect(() => {\n        getJogos();\n    }, []);\n\n    function handleSubscribe(jogoId){\n        const data = {\n            Jogador_CPF: localStorage.getItem(\"cpf\"),\n            Jogo_id: jogoId\n        }\n\n        api.post(\n            \"/jogos/enter\",\n            data   \n        ).then(() => {\n            alert(\"inscrito\")\n            setJogos(jogos.map((jogo)=>{\n                if(jogoId === jogo.id){\n                    let nJogo = jogo\n                    jogo.participa = true   \n                    return nJogo\n                } else return jogo\n            }))\n        }).catch((err) => alert(err))\n    }\n\n    function handleQuit(jogoId){\n        const data = {\n            Jogador_CPF: localStorage.getItem(\"cpf\"),\n            Jogo_id: jogoId\n        }\n\n        api.post(\n            \"/jogos/quit/\"+localStorage.getItem(\"cpf\")+\"/\"+jogoId,\n            data\n        ).then(() => {\n            setJogos(jogos.map((jogo)=>{\n                if(jogoId === jogo.id){\n                    let nJogo = jogo\n                    jogo.participa = false   \n                    return nJogo\n                } else return jogo\n            }))\n            alert(\"desinscrito\")\n\n        }).catch((err) => alert(err))\n    }\n\n    return(\n        <div class=\"bg-white font-family-karla h-screen flex justify-center\">\n            <div class=\"flex flex-col justify-center md:justify-start my-auto pt-8 md:pt-0 px-8 md:px-24 lg:px-32\">\n            <div class=\"flex flex-col\">\n            {\n                <div class=\"overflow-x-auto sm:-mx-6 lg:-mx-8\">\n                    <div class=\"py-2 inline-block min-w-full sm:px-6 lg:px-8\">\n                    <div class=\"overflow-hidden\">\n                        <table class=\"min-w-full\">\n                        <thead class=\"border-b\">\n                            <tr>\n                            <th scope=\"col\" class=\"text-sm font-medium text-gray-900 px-6 py-4 text-left\">\n                                #\n                            </th>\n                            <th scope=\"col\" class=\"text-sm font-medium text-gray-900 px-6 py-4 text-left\">\n                                Campo\n                            </th>\n                            <th scope=\"col\" class=\"text-sm font-medium text-gray-900 px-6 py-4 text-left\">\n                                In√≠cio\n                            </th>\n                            <th scope=\"col\" class=\"text-sm font-medium text-gray-900 px-6 py-4 text-left\">\n                                Fim\n                            </th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {jogos && jogos.map((jogo) => {\n                                return (\n                                    <tr class=\"border-b\">\n                                    <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                                        {jogo.id}\n                                    </td>\n                                    <td class=\"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap\">\n                                        {jogo.campo}\n                                    </td>\n                                    <td class=\"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap\">\n                                        {jogo.data_hora_inicio}\n                                    </td>\n                                    <td class=\"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap\">\n                                        {jogo.data_hora_termino}\n                                    </td>\n                                    <td class=\"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap\">\n                                        { jogos.participa?\n                                            <button onClick={() => handleSubscribe(jogo.id)} class=\"bg-black text-white font-bold text-lg hover:bg-gray-700 p-2\">\n                                                sair\n                                            </button>\n                                            :\n                                            <button onClick={() => handleQuit(jogo.id)} class=\"bg-black text-white font-bold text-lg hover:bg-gray-700 p-2\">\n                                                Inscrever-se\n                                            </button>\n                                        }\n                                    </td>\n                                    </tr>\n                                )\n                            })\n                            }\n                        </tbody>\n                        </table>\n                    </div>\n                    </div>\n                </div>\n                }\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default SeeGames;"]},"metadata":{},"sourceType":"module"}